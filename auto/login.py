# coding=utf-8from selenium import webdriverimport timefrom selenium.webdriver.support.wait import WebDriverWaitfrom selenium.webdriver.support import expected_conditions as ECfrom selenium.webdriver.common.by import Byclass Login(object):    def login_without_qr(self, url, browser, acctountId, passwordId, submit, account, password):        """        :param url: 登陆地址        :param browser: 浏览器        :param acctountId: 账号输入框 id        :param passwordId: 密码输入框 id        :param submit 提交按钮        :param acctount: 账号        :param password: 密码        :return: 0-发生错误；1-未发生错误        """        # 获取页面        browser.get(url)        browser.maximize_window()        # 输入账号        acctount_input = browser.find_element_by_id(acctountId)        if acctount_input is None:            print '未找到账号输入框'            return 0        acctount_input.click()        acctount_input.send_keys(account)        # 输入密码        password_input = browser.find_element_by_id(passwordId)        if password_input is None:            print '未找到密码输入框'            return 0        password_input.click()        password_input.send_keys(password)        # 点击登陆        submit_array = browser.find_elements_by_class_name(submit)        if len(submit_array) > 0:            submit_array[0].click()            # 等待元素加载            WebDriverWait(browser, 5, 0.5).until(                EC.presence_of_element_located((By.XPATH, '//*[@id="app"]/div/div[1]/div[3]/div/div/span'))            )            # 判断是否登录成功            real_account = browser.find_element_by_xpath('//*[@id="app"]/div/div[1]/div[3]/div/div/span').text            if real_account == account:                return 1            else:                print '登录失败'                return 0        else:            print '未获取到提交按钮'            return 0        return 1if __name__ == "__main__":    url = "http://47.96.183.143/#/login"    browser = webdriver.Chrome()    acctountId = "account"    passwordId = "password"    acctount = "admin"    password = "111111"    submit = "ant-btn-lg"    login = Login()    login.login_without_qr(url, browser, acctountId, passwordId, submit, acctount, password)    time.sleep(1)    # opcombobox = browser.find_element_by_xpath('//*[@id="app"]/div/div[1]/div[2]/div/div').click()    opcombobox = browser.find_element_by_class_name('ant-select ant-select-open ant-select-focused ant-select-enabled').click()    # project_choice = browser.find_element_by_xpath('/html/body/div[1]/div/div[1]/div[6]/div/div/div/div/ul/li[2]').click()    # select_arrow = browser.find_element_by_class_name("ant-select-arrow").click()    time.sleep(2)    project_choice = browser.find_element_by_class_name("ant-select-dropdown-menu-item").click()    # 那个 kylin 要用idea    time.sleep(2)    # browser.close()